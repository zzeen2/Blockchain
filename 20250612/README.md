# 비트코인
> 블록 거래의 집합(거래 이력)을 저장하고 있고

## 블록

## 헤더
 - 버전
 - 높이
 - 머클루트
 - 이전 블록 해시
 - 난이도
 - 논스
 - 해시

## 바디
 - 트랜잭션 ( 거래 데이터들 )

## 블록체인
> 블록의 해시값을 기반으로 연결된 구조를 설계
> 블록의 이전 블록 해시를 속성값으로 포함하고있어 중간의 블록의 내용이 위변조 되면 연결이 끊긴다.
> 하나의 체인이 유지될 수 있도록 롱기스트 체인 룰 가장 긴 체인이 정답이다.\

### 체인의 목적
> 블록의 값의 불변성을 보장하는 것에 목적을 가지고 있다.
> 이전의 데이터 즉 블록의 내용을 변경하게 되면 이후의 블록의 이전블록 해시의 연결성이 끊어지고 다시 그 이후의 모든 블록을 채굴해야 인정받을 수 있기 때문에 위변조가 불가능하게 설계

### 블록체인에서 체인
> 블록은 장부의 페이지가 블록
> 이전 블록의 해시는 페이지네이션
> 블록체인은 거래 장부 자체
> 체인은 시간마다 기록된 거래내용들의 장부의 역할을 한다.

### 블록의 해시
> 블록의 내용을 모두 포함해서 SHA 256 해시 암호화를 해서 만든 해시값 
> 각각의 블록의 연계성을 가진 값으로 사용된다.
> 이 해시값은 블록의 식별자 역할도 한다.

### 블록의 이전블록 해시
> 새로운 블록을 추가할때 이전 블록의 해시값을 포함시켜서 연결성을 구성
> 이전 블록의 링크를 추가하는 느낌 
> 체인의 각 블록의 해시가 이전블록의 해시와 일치하는지 검증을 하게되면 데이터의 정확성을 검증할 수 있게된다.

### 체인의 특징
- 불변성 : 데이터를 위변조 할 수 없다.
- 투명성 : 누구나 체인의 블록의 내용을 볼 수 있다.
- 보안성 : 해시와 작업증명을 통해서 데이터를 변조할 수 없다.
- 분산성 : 각각의 노드간에 체인을 가지고 있고 서로 검증을 하는 구조 

### 이슈사항
### 비슷한 시기로 블록이 생성되는 경우
> 각각의 노드가 연결된 두개의 체인이 상주하는 경우
> 네트워크가 지연이 되는 상황이 발생해서 다른 블록이 동시에 생성되는 경우 두개 이상의 체인이 상주하는 경우

### 포크 체인 분기
> 두 채굴자가 거의 비슷한 시간에 블록이 생성된 경우

### 롱기스트 체인 룰
> 서로 다른 노드의 체인이 검증되는 규칙
> 가장 긴 체인을 가지고 있는 체인이 유효한 체인이다.
> 하나의 장부 즉 체인을 유지하기 위한 규칙
> 포크 체인 분기가 발생한 경우에는 두개 이상의 체인중 이후에 생성되는 블록이 더 빠른 체인이 정답체인으로 검증된다.
> 포크 체인 분기가 발생하고 이후에 더 빠르게 체인의 길이가 길어진 체인이 정답이 되고, 정답이 되지 못한 체인은 버려진다.
> 만약 포크 체인 분기가 발생하면 보상은 버려진 체인에 해당하는 보상과 거래는 무효화가 된다.

### 롱기스트 체인 룰의 원리 요약
> 블록체인에서 여러개의 체인이 동시에 존재하는 것을 하나의 체인으로 유지하기 위한 규칙
> 진짜 유효한 체인을 검증하는 규칙이다.
